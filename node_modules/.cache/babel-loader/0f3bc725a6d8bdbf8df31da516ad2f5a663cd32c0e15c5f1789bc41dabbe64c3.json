{"ast":null,"code":"var _jsxFileName = \"/Users/ngandiep/Documents/BirthdayPro/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { fetchUserByDOB } from './services/api'; // Assuming this function makes the API request\nimport BirthdayCake from './components/BirthdayCake';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [dob, setDob] = useState(\"\"); // State for Date of Birth (DOB)\n  const [userData, setUserData] = useState(null); // User data state\n  const [wishes, setWishes] = useState([]); // Birthday wishes state\n  const [showCake, setShowCake] = useState(false); // Cake animation state\n  const [songPlaying, setSongPlaying] = useState(false); // Song playing state\n\n  // Handle DOB input change\n  const handleDobChange = event => {\n    setDob(event.target.value); // Update DOB state\n  };\n\n  // Fetch user data based on DOB\n  const fetchData = async () => {\n    if (!dob) {\n      console.error(\"DOB is required\");\n      return;\n    }\n    try {\n      const response = await fetchUserByDOB(dob); // Assuming you pass DOB in API request\n      if (response && response.data) {\n        setUserData(response.data);\n        setWishes(response.data.wishes); // Assuming wishes come in the response\n      } else {\n        console.error(\"No data found for this DOB\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n    }\n  };\n\n  // Automatically show one wish every 5 seconds\n  useEffect(() => {\n    if (userData && wishes.length > 0) {\n      const interval = setInterval(() => {\n        if (wishes.length > 0) {\n          setWishes(prevWishes => prevWishes.slice(1));\n        } else {\n          clearInterval(interval);\n          setShowCake(true); // Show the birthday cake after all wishes are displayed\n        }\n      }, 5000); // Adjust the interval as needed\n    }\n  }, [userData, wishes]);\n\n  // Play birthday song\n  const playSong = () => {\n    setSongPlaying(true);\n    // Play the birthday song (You can use an <audio> element for this)\n  };\n\n  // Trigger the song after cake animation finishes\n  const handleCakeAnimationEnd = () => {\n    playSong();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [!userData ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enter Date of Birth\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: dob,\n        onChange: handleDobChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchData,\n        children: \"Fetch User Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Happy Birthday, \", userData.username, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this), wishes.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: wishes[0].message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 43\n      }, this), showCake && /*#__PURE__*/_jsxDEV(BirthdayCake, {\n        onAnimationEnd: handleCakeAnimationEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true), songPlaying && /*#__PURE__*/_jsxDEV(\"audio\", {\n      src: \"/path/to/birthday-song.mp3\",\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"2O3lNGwPpKpd1aSDNs9J5ELnVvk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","fetchUserByDOB","BirthdayCake","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","dob","setDob","userData","setUserData","wishes","setWishes","showCake","setShowCake","songPlaying","setSongPlaying","handleDobChange","event","target","value","fetchData","console","error","response","data","length","interval","setInterval","prevWishes","slice","clearInterval","playSong","handleCakeAnimationEnd","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","required","onClick","username","message","onAnimationEnd","src","autoPlay","_c","$RefreshReg$"],"sources":["/Users/ngandiep/Documents/BirthdayPro/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { fetchUserByDOB } from './services/api'; // Assuming this function makes the API request\nimport BirthdayCake from './components/BirthdayCake';\n\nfunction App() {\n    const [dob, setDob] = useState(\"\"); // State for Date of Birth (DOB)\n    const [userData, setUserData] = useState(null); // User data state\n    const [wishes, setWishes] = useState([]); // Birthday wishes state\n    const [showCake, setShowCake] = useState(false); // Cake animation state\n    const [songPlaying, setSongPlaying] = useState(false); // Song playing state\n\n    // Handle DOB input change\n    const handleDobChange = (event) => {\n        setDob(event.target.value); // Update DOB state\n    };\n\n    // Fetch user data based on DOB\n    const fetchData = async () => {\n        if (!dob) {\n            console.error(\"DOB is required\");\n            return;\n        }\n\n        try {\n            const response = await fetchUserByDOB(dob); // Assuming you pass DOB in API request\n            if (response && response.data) {\n                setUserData(response.data);\n                setWishes(response.data.wishes); // Assuming wishes come in the response\n            } else {\n                console.error(\"No data found for this DOB\");\n            }\n        } catch (error) {\n            console.error(\"Error fetching user data:\", error);\n        }\n    };\n\n    // Automatically show one wish every 5 seconds\n    useEffect(() => {\n        if (userData && wishes.length > 0) {\n            const interval = setInterval(() => {\n                if (wishes.length > 0) {\n                    setWishes((prevWishes) => prevWishes.slice(1));\n                } else {\n                    clearInterval(interval);\n                    setShowCake(true); // Show the birthday cake after all wishes are displayed\n                }\n            }, 5000); // Adjust the interval as needed\n        }\n    }, [userData, wishes]);\n\n    // Play birthday song\n    const playSong = () => {\n        setSongPlaying(true);\n        // Play the birthday song (You can use an <audio> element for this)\n    };\n\n    // Trigger the song after cake animation finishes\n    const handleCakeAnimationEnd = () => {\n        playSong();\n    };\n\n    return (\n        <div className=\"App\">\n            {/* DOB Input and Fetch Button */}\n            {!userData ? (\n                <div>\n                    <h2>Enter Date of Birth</h2>\n                    <input\n                        type=\"date\"\n                        value={dob}\n                        onChange={handleDobChange}\n                        required\n                    />\n                    <button onClick={fetchData}>Fetch User Data</button>\n                </div>\n            ) : (\n                <>\n                    <h1>Happy Birthday, {userData.username}!</h1>\n\n                    {/* Show wishes one by one */}\n                    {wishes.length > 0 && <p>{wishes[0].message}</p>}\n\n                    {/* Show Birthday Cake animation after wishes are shown */}\n                    {showCake && <BirthdayCake onAnimationEnd={handleCakeAnimationEnd} />}\n                </>\n            )}\n\n            {/* Play Birthday Song */}\n            {songPlaying && <audio src=\"/path/to/birthday-song.mp3\" autoPlay />}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}