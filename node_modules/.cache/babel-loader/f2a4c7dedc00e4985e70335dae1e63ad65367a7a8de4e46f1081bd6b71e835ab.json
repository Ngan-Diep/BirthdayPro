{"ast":null,"code":"var _jsxFileName = \"/Users/ngandiep/Documents/BirthdayPro/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { fetchUserByDOB } from './services/api';\nimport BirthdayCake from './components/BirthdayCake';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const [wishes, setWishes] = useState([]);\n  const [showCake, setShowCake] = useState(false);\n  const [songPlaying, setSongPlaying] = useState(false);\n  useEffect(() => {\n    if (userData) {\n      // Show one wish every 5 seconds\n      const interval = setInterval(() => {\n        if (wishes.length > 0) {\n          setWishes(prevWishes => prevWishes.slice(1));\n        } else {\n          clearInterval(interval);\n          setShowCake(true); // After all wishes, show the birthday cake\n        }\n      }, 5000); // Adjust the interval as needed\n    }\n  }, [userData, wishes]);\n  const fetchData = async () => {\n    const data = await fetchUserByDOB('1990-01-01'); // Replace with actual DOB input\n    if (data) {\n      setUserData(data);\n      setWishes(data.wishes); // Assuming the backend returns the wishes array\n    }\n  };\n  const playSong = () => {\n    setSongPlaying(true);\n    // Play the birthday song (you can use an <audio> element for this)\n  };\n  const handleCakeAnimationEnd = () => {\n    // Trigger the song after the cake animation finishes\n    playSong();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [!userData ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchData,\n      children: \"Fetch User Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Happy Birthday, \", userData.username, \"!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), wishes.length > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: wishes[0].message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 43\n      }, this), showCake && /*#__PURE__*/_jsxDEV(BirthdayCake, {\n        onAnimationEnd: handleCakeAnimationEnd\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true), songPlaying && /*#__PURE__*/_jsxDEV(\"audio\", {\n      src: \"/path/to/birthday-song.mp3\",\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"6yCImGDe6PVmuVj0KqoYQNyRGnk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","fetchUserByDOB","BirthdayCake","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","userData","setUserData","wishes","setWishes","showCake","setShowCake","songPlaying","setSongPlaying","interval","setInterval","length","prevWishes","slice","clearInterval","fetchData","data","playSong","handleCakeAnimationEnd","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","username","message","onAnimationEnd","src","autoPlay","_c","$RefreshReg$"],"sources":["/Users/ngandiep/Documents/BirthdayPro/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { fetchUserByDOB } from './services/api';\nimport BirthdayCake from './components/BirthdayCake';\n\nfunction App() {\n    const [userData, setUserData] = useState(null);\n    const [wishes, setWishes] = useState([]);\n    const [showCake, setShowCake] = useState(false);\n    const [songPlaying, setSongPlaying] = useState(false);\n\n    useEffect(() => {\n        if (userData) {\n            // Show one wish every 5 seconds\n            const interval = setInterval(() => {\n                if (wishes.length > 0) {\n                    setWishes((prevWishes) => prevWishes.slice(1));\n                } else {\n                    clearInterval(interval);\n                    setShowCake(true); // After all wishes, show the birthday cake\n                }\n            }, 5000); // Adjust the interval as needed\n        }\n    }, [userData, wishes]);\n\n    const fetchData = async () => {\n        const data = await fetchUserByDOB('1990-01-01'); // Replace with actual DOB input\n        if (data) {\n            setUserData(data);\n            setWishes(data.wishes); // Assuming the backend returns the wishes array\n        }\n    };\n\n    const playSong = () => {\n        setSongPlaying(true);\n        // Play the birthday song (you can use an <audio> element for this)\n    };\n\n    const handleCakeAnimationEnd = () => {\n        // Trigger the song after the cake animation finishes\n        playSong();\n    };\n\n    return (\n        <div className=\"App\">\n            {!userData ? (\n                <button onClick={fetchData}>Fetch User Data</button>\n            ) : (\n                <>\n                    <h1>Happy Birthday, {userData.username}!</h1>\n                    {wishes.length > 0 && <p>{wishes[0].message}</p>}\n                    {showCake && <BirthdayCake onAnimationEnd={handleCakeAnimationEnd} />}\n                </>\n            )}\n            {songPlaying && <audio src=\"/path/to/birthday-song.mp3\" autoPlay />}\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}