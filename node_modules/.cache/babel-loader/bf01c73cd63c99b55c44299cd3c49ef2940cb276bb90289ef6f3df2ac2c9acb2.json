{"ast":null,"code":"var _jsxFileName = \"/Users/ngandiep/Documents/BirthdayPro/src/components/BlowCandle.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './BlowCandle.css'; // Add custom styles if needed\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BlowCandle() {\n  _s();\n  const [candlesBlown, setCandlesBlown] = useState(false);\n  const [listening, setListening] = useState(false);\n  useEffect(() => {\n    let audioContext, analyser, microphone, dataArray;\n    const startListening = async () => {\n      try {\n        audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        const stream = await navigator.mediaDevices.getUserMedia({\n          audio: true\n        });\n        microphone = audioContext.createMediaStreamSource(stream);\n        analyser = audioContext.createAnalyser();\n        analyser.fftSize = 256;\n        dataArray = new Uint8Array(analyser.frequencyBinCount);\n        microphone.connect(analyser);\n        setListening(true);\n        const detectBlow = () => {\n          analyser.getByteFrequencyData(dataArray);\n          const maxVolume = Math.max(...dataArray);\n          if (maxVolume > 150) {\n            // Threshold for detecting a \"blow\"\n            setCandlesBlown(true);\n            stopListening();\n          } else {\n            requestAnimationFrame(detectBlow);\n          }\n        };\n        detectBlow();\n      } catch (err) {\n        console.error('Error accessing microphone:', err);\n      }\n    };\n    const stopListening = () => {\n      if (audioContext) {\n        audioContext.close();\n      }\n      setListening(false);\n    };\n    if (!candlesBlown) {\n      startListening();\n    }\n    return () => {\n      stopListening();\n    };\n  }, [candlesBlown]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"blow-candle-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83C\\uDF89 Blow Out the Candles! \\uD83C\\uDF89\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"candle-container\",\n      children: !candlesBlown ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"path_to_lit_candles_image.gif\",\n        alt: \"Lit Candles\",\n        style: {\n          width: '300px',\n          height: '300px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"path_to_blow_out_candles_image.gif\",\n        alt: \"Blown Out Candles\",\n        style: {\n          width: '300px',\n          height: '300px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), !candlesBlown && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"instruction\",\n      children: \"Blow into the microphone to extinguish the candles!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), candlesBlown && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"success-message\",\n      children: \"\\uD83C\\uDF82 Make a wish and enjoy your day! \\uD83C\\uDF82\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(BlowCandle, \"d9ASggmWALFHg8aWGfLTD6ze9eM=\");\n_c = BlowCandle;\nexport default BlowCandle;\nvar _c;\n$RefreshReg$(_c, \"BlowCandle\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","BlowCandle","_s","candlesBlown","setCandlesBlown","listening","setListening","audioContext","analyser","microphone","dataArray","startListening","window","AudioContext","webkitAudioContext","stream","navigator","mediaDevices","getUserMedia","audio","createMediaStreamSource","createAnalyser","fftSize","Uint8Array","frequencyBinCount","connect","detectBlow","getByteFrequencyData","maxVolume","Math","max","stopListening","requestAnimationFrame","err","console","error","close","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","style","width","height","_c","$RefreshReg$"],"sources":["/Users/ngandiep/Documents/BirthdayPro/src/components/BlowCandle.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './BlowCandle.css'; // Add custom styles if needed\n\nfunction BlowCandle() {\n    const [candlesBlown, setCandlesBlown] = useState(false);\n    const [listening, setListening] = useState(false);\n\n    useEffect(() => {\n        let audioContext, analyser, microphone, dataArray;\n\n        const startListening = async () => {\n            try {\n                audioContext = new (window.AudioContext || window.webkitAudioContext)();\n                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n                microphone = audioContext.createMediaStreamSource(stream);\n                analyser = audioContext.createAnalyser();\n                analyser.fftSize = 256;\n                dataArray = new Uint8Array(analyser.frequencyBinCount);\n                microphone.connect(analyser);\n\n                setListening(true);\n\n                const detectBlow = () => {\n                    analyser.getByteFrequencyData(dataArray);\n                    const maxVolume = Math.max(...dataArray);\n\n                    if (maxVolume > 150) { // Threshold for detecting a \"blow\"\n                        setCandlesBlown(true);\n                        stopListening();\n                    } else {\n                        requestAnimationFrame(detectBlow);\n                    }\n                };\n\n                detectBlow();\n            } catch (err) {\n                console.error('Error accessing microphone:', err);\n            }\n        };\n\n        const stopListening = () => {\n            if (audioContext) {\n                audioContext.close();\n            }\n            setListening(false);\n        };\n\n        if (!candlesBlown) {\n            startListening();\n        }\n\n        return () => {\n            stopListening();\n        };\n    }, [candlesBlown]);\n\n    return (\n        <div className=\"blow-candle-container\">\n            <h1>ðŸŽ‰ Blow Out the Candles! ðŸŽ‰</h1>\n            <div className=\"candle-container\">\n                {!candlesBlown ? (\n                    <img \n                        src=\"path_to_lit_candles_image.gif\" \n                        alt=\"Lit Candles\" \n                        style={{ width: '300px', height: '300px' }}\n                    />\n                ) : (\n                    <img \n                        src=\"path_to_blow_out_candles_image.gif\" \n                        alt=\"Blown Out Candles\" \n                        style={{ width: '300px', height: '300px' }}\n                    />\n                )}\n            </div>\n            {!candlesBlown && (\n                <p className=\"instruction\">Blow into the microphone to extinguish the candles!</p>\n            )}\n            {candlesBlown && (\n                <p className=\"success-message\">ðŸŽ‚ Make a wish and enjoy your day! ðŸŽ‚</p>\n            )}\n        </div>\n    );\n}\n\nexport default BlowCandle;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}